import{f as e,r as t,g as a}from"./vendor.9b92c9a3.js";import{i as r}from"./app.57d6f5c3.js";import{u as o}from"./utils.068ea219.js";const s=e("notas",(()=>{const e="notas",s=t({}),l=t({Proceso:0}),u=t(1),n=a((()=>s.value.results)),c=a((()=>s.value.count)),i=a((()=>u.value)),d=a((()=>{const{Proceso:e}=l.value;return e>0})),v=async()=>{try{const t=1===u.value||0===u.value?{}:{page:u.value},{data:a}=await r.get(e,{params:t});return s.value=a,a}catch(t){return console.error(t),null}},y=async e=>{if(e)try{const{data:t}=await r.get("filter_notas",{params:{text:e}});return s.value=t,t}catch(t){return console.error(t),null}else y(" ")},h=e=>{u.value=e,v()};return{keyModel:e,storeModel:l,getData:n,getCounts:c,getColumns:[{Key:"id",Text:"Id",Width:10},{Key:"Proceso_Nombre",Text:"Proceso",Width:90},{Key:"Serie",Text:"Serie",Width:10},{Key:"Fecha",Text:"Fecha",Width:10},{Key:"IsAceptado",Text:"Estado",Width:10}],getPageIndex:i,isValidFormModel:d,setData:v,saveData:async()=>{try{if(!d.value)return null;let e=null;return e=l.value.id?await r.put(`notas/${l.value.id}/`,l.value):await r.post("notas/",l.value),y(""),e.data}catch(e){return console.error(e),null}},filterData:y,setById:async e=>{try{const{data:t}=await r.get(`notas/${e}/`);return t}catch(t){return console.error(t),null}},setPageIndex:h,setPrevius:()=>{u.value>1&&h(u.value-1)},setNext:()=>{const e=Math.abs(Math.ceil(c.value/o().CountPagination));u.value<e&&h(u.value+1)},clearModel:()=>{l.value={}}}}));export{s as u};
