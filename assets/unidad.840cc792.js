import{f as a,r as e,g as t}from"./vendor.f30c4ba5.js";import{i as r}from"./app.88f942b0.js";import{u}from"./DataTableComponent.970c6a2a.js";const l=a("unidad",(()=>{const a="unidad",l=e({}),o=e({}),n=e(1),s=t((()=>l.value.results)),i=t((()=>l.value.count)),c=t((()=>n.value)),d=t((()=>{const{Nombre:a}=o.value;return a})),v=async()=>{try{const e=1===n.value||0===n.value?{}:{page:n.value},{data:t}=await r.get(a,{params:e});return l.value=t,t}catch(e){return console.error(e),null}},m=a=>{n.value=a,v()};return{keyModel:a,storeModel:o,getData:s,getCounts:i,getColumns:[{Key:"id",Text:"Id",Width:10},{Key:"Nombre",Text:"Nombre",Width:80},{Key:"Factor",Text:"Factor",Width:10}],getPageIndex:c,isValidFormModel:d,setData:v,saveData:async()=>{try{if(!d.value)return null;let a=null;return a=o.value.id?await r.put(`unidad/${o.value.id}/`,o.value):await r.post("unidad/",o.value),v(),a.data}catch(a){return console.error(a),null}},filterData:async e=>{if(e)try{const{data:t}=await r.get(a,{params:{search:e}});return l.value=t,t}catch(t){return console.error(t),null}else v()},setPageIndex:m,setPrevius:()=>{n.value>1&&m(n.value-1)},setNext:()=>{const a=Math.abs(Math.ceil(i.value/u().CountPagination));n.value<a&&m(n.value+1)},clearModel:()=>{o.value={}}}}));export{l as u};
