import{e,r as a,f as t}from"./vendor.7fd77a40.js";import{i as r}from"./app.b54d3ad2.js";import{u as o}from"./utils.4066f773.js";const l=e("proveedor",(()=>{const e="proveedor",l=a({}),u=a({}),n=a(1),s=t((()=>l.value.results)),i=t((()=>l.value.count)),c=t((()=>n.value)),d=t((()=>{const{Ruc:e,RazonSocial:a,Direccion:t,Telefono:r,Correo:o}=u.value;return e&&a&&t&&r&&o})),v=async()=>{try{const a=1===n.value||0===n.value?{}:{page:n.value},{data:t}=await r.get(e,{params:a});return l.value=t,t}catch(a){return console.error(a),null}},p=e=>{n.value=e,v()};return{keyModel:e,storeModel:u,getData:s,getCounts:i,getColumns:[{Key:"id",Text:"Id",Width:5},{Key:"Ruc",Text:"Ruc",Width:10},{Key:"RazonSocial",Text:"Razon Social",Width:50},{Key:"Direccion",Text:"Direccion",Width:20},{Key:"Telefono",Text:"Telefono",Width:5},{Key:"Correo",Text:"Correo",Width:10}],getPageIndex:c,isValidFormModel:d,setData:v,saveData:async()=>{try{if(!d.value)return null;let e=null;return e=u.value.id?await r.put(`proveedor/${u.value.id}/`,u.value):await r.post("proveedor/",u.value),v(),e.data}catch(e){return console.error(e),null}},filterData:async a=>{if(a)try{const{data:t}=await r.get(e,{params:{search:a}});return l.value=t,t}catch(t){return console.error(t),null}else v()},setPageIndex:p,setPrevius:()=>{n.value>1&&p(n.value-1)},setNext:()=>{const e=Math.abs(Math.ceil(i.value/o().CountPagination));n.value<e&&p(n.value+1)},clearModel:()=>{u.value={}}}}));export{l as u};
