import{f as e,r as a,g as t}from"./vendor.f30c4ba5.js";import{i as r}from"./app.88f942b0.js";import{u as o}from"./DataTableComponent.970c6a2a.js";const s=e("proceso",(()=>{const e="proceso",s=a({}),l=a({}),n=a(1),u=t((()=>s.value.results)),c=t((()=>s.value.count)),i=t((()=>n.value)),v=t((()=>{const{Nombre:e}=l.value;return e})),d=async()=>{try{const a=1===n.value||0===n.value?{}:{page:n.value},{data:t}=await r.get(e,{params:a});return s.value=t,t}catch(a){return console.error(a),null}},p=e=>{n.value=e,d()};return{keyModel:e,storeModel:l,getData:u,getCounts:c,getColumns:[{Key:"id",Text:"Id",Width:10},{Key:"Nombre",Text:"Nombre",Width:90},{Key:"Descripcion",Text:"DescripciÃ³n",Width:10},{Key:"IsOpen",Text:"Estado",Width:10}],getPageIndex:i,isValidFormModel:v,setData:d,setProcesoActivo:async()=>{try{const{data:e}=await r.get("get_proceso_activo");return e.results[0]}catch(e){return console.error(e),null}},saveData:async()=>{try{if(!v.value)return null;let e=null;return e=l.value.id?await r.put(`proceso/${l.value.id}/`,l.value):await r.post("proceso/",l.value),d(),e.data}catch(e){return console.error(e),null}},filterData:async a=>{if(a)try{const{data:t}=await r.get(e,{params:{search:a}});return s.value=t,t}catch(t){return console.error(t),null}else d()},setById:async e=>{try{const{data:a}=await r.get(`proceso/${e}/`);return a}catch(a){return console.error(a),null}},setPageIndex:p,setPrevius:()=>{n.value>1&&p(n.value-1)},setNext:()=>{const e=Math.abs(Math.ceil(c.value/o().CountPagination));n.value<e&&p(n.value+1)},clearModel:()=>{l.value={}}}}));export{s as u};
