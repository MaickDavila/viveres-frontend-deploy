import{e,r as t,f as a}from"./vendor.a51b8ffa.js";import{i as r}from"./app.1c80cf5c.js";import{u as o}from"./utils.08d0e0c0.js";const l=e("lote",(()=>{const e="lote",l=t({}),s=t({}),u=t(1),n=a((()=>l.value.results)),c=a((()=>l.value.count)),i=a((()=>u.value)),d=a((()=>{const{Nombre:e}=s.value;return e})),v=async()=>{try{const t=1===u.value||0===u.value?{}:{page:u.value},{data:a}=await r.get(e,{params:t});return l.value=a,a}catch(t){return console.error(t),null}},y=e=>{u.value=e,v()};return{keyModel:e,storeModel:s,getData:n,getCounts:c,getColumns:[{Key:"id",Text:"Id",Width:10},{Key:"Nombre",Text:"Nombre",Width:90},{Key:"Codigo",Text:"Codigo",Width:10}],getPageIndex:i,isValidFormModel:d,setData:v,saveData:async()=>{try{if(!d.value)return null;let e=null;return e=s.value.id?await r.put(`lote/${s.value.id}/`,s.value):await r.post("lote/",s.value),v(),e.data}catch(e){return console.error(e),null}},filterData:async t=>{if(t)try{const{data:a}=await r.get(e,{params:{search:t}});return l.value=a,a}catch(a){return console.error(a),null}else v()},setById:async e=>{try{const{data:t}=await r.get(`lote/${e}/`);return t}catch(t){return console.error(t),null}},get_lotes_by_proceso:async e=>{try{const{data:t}=await r.get("get_lotes_by_proceso",{params:{procesoId:e}});return l.value.results=t,t}catch(t){return console.error(t),null}},setPageIndex:y,setPrevius:()=>{u.value>1&&y(u.value-1)},setNext:()=>{const e=Math.abs(Math.ceil(c.value/o().CountPagination));u.value<e&&y(u.value+1)},clearModel:()=>{s.value={}}}}));export{l as u};
