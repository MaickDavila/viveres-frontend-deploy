import{u as e,_ as l}from"./DataTableComponent.3622d4af.js";import{f as t,r as o,g as a,h as r,i as s,o as n,s as c,w as i,k as d,e as u,v as p,t as f,x as g,y as m,z as v}from"./vendor.431aaa16.js";import{t as h,u as y}from"./style.c4efdb2e.js";import{i as x}from"./app.50cddf9d.js";const M=t("proveedor",(()=>{const l="proveedor",t=o({}),r=o({}),s=o(1),n=a((()=>t.value.results)),c=a((()=>t.value.count)),i=a((()=>s.value)),d=a((()=>{const{Ruc:e,RazonSocial:l,Direccion:t,Telefono:o,Correo:a}=r.value;return e&&l&&t&&o&&a})),u=async()=>{try{const e=1===s.value||0===s.value?{}:{page:s.value},{data:o}=await x.get(l,{params:e});return t.value=o,o}catch(e){return console.error(e),null}},p=e=>{s.value=e,u()};return{keyModel:l,storeModel:r,getData:n,getCounts:c,getColumns:[{Key:"id",Text:"Id",Width:5},{Key:"Ruc",Text:"Ruc",Width:10},{Key:"RazonSocial",Text:"Razon Social",Width:50},{Key:"Direccion",Text:"Direccion",Width:20},{Key:"Telefono",Text:"Telefono",Width:5},{Key:"Correo",Text:"Correo",Width:10}],getPageIndex:i,isValidFormModel:d,setData:u,saveData:async()=>{try{if(!d.value)return null;let e=null;return e=r.value.id?await x.put(`proveedor/${r.value.id}/`,r.value):await x.post("proveedor/",r.value),u(),e.data}catch(e){return console.error(e),null}},filterData:async e=>{if(e)try{const{data:o}=await x.get(l,{params:{search:e}});return t.value=o,o}catch(o){return console.error(o),null}else u()},setPageIndex:p,setPrevius:()=>{s.value>1&&p(s.value-1)},setNext:()=>{const l=Math.abs(Math.ceil(c.value/e().CountPagination));s.value<l&&p(s.value+1)},clearModel:()=>{r.value={}}}})),D=u("svg",{id:"Layer_1",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"170",viewBox:"0 0 512 512",style:{"enable-background":"new 0 0 512 512"},"xml:space":"preserve"},[u("path",{style:{fill:"#E1BE91"},d:"M335.448,339.121v-47.81H176.552v47.81c0,8.193-5.636,15.309-13.611,17.186L53.706,382.009\r\nc-15.95,3.752-27.223,17.985-27.223,34.37v86.793c0,4.875,3.953,8.828,8.828,8.828H476.69c4.875,0,8.828-3.953,8.828-8.828V416.38\r\nc0-16.386-11.273-30.618-27.223-34.371l-109.235-25.703C341.085,354.43,335.448,347.314,335.448,339.121z"}),u("path",{style:{fill:"#E4EAF6"},d:"M458.294,382.008l-109.235-25.702c-1.65-0.388-3.167-1.047-4.587-1.846L256,406.069l-85.023-54.105\r\nc-2.201,2.072-4.934,3.613-8.036,4.343L53.706,382.008c-15.95,3.753-27.223,17.986-27.223,34.371v86.793\r\nc0,4.875,3.953,8.828,8.828,8.828H476.69c4.875,0,8.828-3.953,8.828-8.828V416.38C485.517,399.994,474.244,385.761,458.294,382.008z\r\n"}),u("polygon",{style:{fill:"#707487"},points:"234.421,512 277.579,512 273.655,432.552 238.345,432.552 "}),u("path",{style:{fill:"#D5DCEC"},d:"M333.72,360.733L256,406.069l-78.467-49.934c5.738,38.237,38.631,67.589,78.467,67.589\r\nC294.233,423.724,326.138,396.71,333.72,360.733z"}),u("g",null,[u("path",{style:{fill:"#D7DEED"},d:"M91.289,445.881l-57.203-51.384c-4.793,6.069-7.604,13.707-7.604,21.884v86.792\r\nc0,4.875,3.953,8.828,8.828,8.828h70.621v-33.283C105.931,466.189,100.608,454.253,91.289,445.881z"}),u("path",{style:{fill:"#D7DEED"},d:"M420.711,445.881l57.203-51.384c4.793,6.069,7.604,13.707,7.604,21.884v86.792\r\nc0,4.875-3.953,8.828-8.828,8.828h-70.621v-33.283C406.069,466.189,411.392,454.253,420.711,445.881z"})]),u("path",{style:{fill:"#5B5D6E"},d:"M278.069,406.069h-44.138v22.069c0,7.313,5.929,13.241,13.241,13.241h17.655\r\nc7.313,0,13.241-5.929,13.241-13.241V406.069z"}),u("circle",{style:{fill:"#707487"},cx:"256",cy:"167.724",r:"158.897"}),u("circle",{style:{fill:"#FFF0E6"},cx:"256",cy:"167.724",r:"123.586"}),u("circle",{style:{fill:"#FFE2C7"},cx:"256",cy:"167.724",r:"61.793"}),u("path",{style:{fill:"#707487"},d:"M233.931,198.621c-2.259,0-4.518-0.862-6.241-2.586c-3.448-3.448-3.448-9.035,0-12.483l83.862-83.862\r\nc3.448-3.448,9.035-3.448,12.483,0c3.448,3.448,3.448,9.035,0,12.483l-83.862,83.862\r\nC238.449,197.759,236.19,198.621,233.931,198.621z"}),u("path",{style:{fill:"#464655"},d:"M317.793,176.552h-88.276c-4.875,0-8.828-3.948-8.828-8.828s3.953-8.828,8.828-8.828h88.276\r\nc4.875,0,8.828,3.948,8.828,8.828S322.668,176.552,317.793,176.552z"}),u("g",null,[u("path",{style:{fill:"#5B5D6E"},d:"M256,335.448c-92.483,0-167.724-75.242-167.724-167.724S163.518,0,256,0\r\ns167.724,75.242,167.724,167.724S348.483,335.448,256,335.448z M256,17.655c-82.75,0-150.069,67.319-150.069,150.069\r\nS173.25,317.793,256,317.793s150.069-67.319,150.069-150.069S338.75,17.655,256,17.655z"}),u("circle",{style:{fill:"#5B5D6E"},cx:"256",cy:"167.724",r:"17.655"})]),u("path",{style:{fill:"#FFDCB9"},d:"M256,300.138c-73.013,0-132.414-59.396-132.414-132.414S182.987,35.31,256,35.31\r\ns132.414,59.396,132.414,132.414S329.013,300.138,256,300.138z M256,52.966c-63.281,0-114.759,51.482-114.759,114.759\r\nS192.719,282.483,256,282.483S370.759,231,370.759,167.724S319.281,52.966,256,52.966z"}),u("g",null,[u("path",{style:{fill:"#E1BE91"},d:"M158.897,158.897h-17.655c-4.875,0-8.828,3.953-8.828,8.828l0,0c0,4.875,3.953,8.828,8.828,8.828\r\nh17.655c4.875,0,8.828-3.948,8.828-8.828S163.772,158.897,158.897,158.897z"}),u("path",{style:{fill:"#E1BE91"},d:"M370.759,158.897h-17.655c-4.875,0-8.828,3.953-8.828,8.828l0,0c0,4.875,3.953,8.828,8.828,8.828\r\nh17.655c4.875,0,8.828-3.948,8.828-8.828S375.634,158.897,370.759,158.897z"}),u("path",{style:{fill:"#E1BE91"},d:"M264.828,70.621V52.966c0-4.875-3.953-8.828-8.828-8.828l0,0c-4.875,0-8.828,3.953-8.828,8.828\r\nv17.655c0,4.875,3.948,8.828,8.828,8.828C260.879,79.448,264.828,75.496,264.828,70.621z"}),u("path",{style:{fill:"#E1BE91"},d:"M264.828,282.483v-17.655c0-4.875-3.953-8.828-8.828-8.828l0,0c-4.875,0-8.828,3.953-8.828,8.828\r\nv17.655c0,4.875,3.948,8.828,8.828,8.828C260.879,291.31,264.828,287.358,264.828,282.483z"})]),u("g",null,[u("path",{style:{fill:"#D7DEED"},d:"M175.311,333.45L256,406.069c0,0-22.598,11.407-50.483,34.4c-5.752,4.743-14.454,2.822-17.539-3.966\r\nl-37.909-83.4l11.992-17.988C165.047,330.636,171.311,329.849,175.311,333.45z"}),u("path",{style:{fill:"#D7DEED"},d:"M336.689,333.45L256,406.069c0,0,22.598,11.407,50.483,34.4c5.752,4.743,14.454,2.822,17.539-3.966\r\nl37.909-83.4l-11.992-17.988C346.953,330.636,340.689,329.849,336.689,333.45z"})]),u("g"),u("g"),u("g"),u("g"),u("g"),u("g"),u("g"),u("g"),u("g"),u("g"),u("g"),u("g"),u("g"),u("g"),u("g")],-1),E={class:"text-2xl font-semibold text-green-400"},C={class:"text-gray-500"},w=["onSubmit"],z={class:"form-container mt-3"},b=u("label",{for:"txtRuc",class:"form-label"},"Ruc:",-1),R={class:"form-container mt-3"},S=u("label",{for:"txtRazon",class:"form-label"},"Razon Social:",-1),T={class:"form-container mt-3"},I=u("label",{for:"txtDireccion",class:"form-label"},"Direccion:",-1),F={class:"form-container mt-3"},B=u("label",{for:"txtTelefono",class:"form-label"},"Telefono:",-1),V={class:"form-container mt-3"},P=u("label",{for:"txtCorreo",class:"form-label"},"Correo:",-1),k=u("input",{type:"submit",class:"hidden"},null,-1),L=r({setup(t){const a=M(),r=o(!1),x=e();s((()=>{a.setData()}));const L=e=>{a.filterData(e)},K=e=>{a.setPageIndex(e)},U=()=>{a.clearModel(),x.setFocusInput("txtRuc")},W=({id:e,Ruc:l,RazonSocial:t,Direccion:o,Telefono:s,Correo:n})=>{e?(r.value=!0,a.clearModel(),a.storeModel.id=e,a.storeModel.Ruc=l,a.storeModel.RazonSocial=t,a.storeModel.Direccion=o,a.storeModel.Telefono=s,a.storeModel.Correo=n,x.setFocusInput("txtRuc")):r.value=!1},q=async()=>{const e=y();e.show({color:"#34D399",width:40,height:40,container:null,canCancel:!1});let l="",t="",o=!0;if(a.isValidFormModel){await a.saveData()?(o=!0,l="Exitoso",t="El registro se ha guardado correctamente",r.value=!1):(o=!1,l="Error",t="No se pudo guardar el registro")}else l="Error",t="Ingrese los valores del Formulario",o=!1;h({title:l,description:t},{type:o?"success":"danger",timeout:3e3,position:"bottom-right",hideProgressBar:!0}),e.hide()},N=e=>{r.value=e};return(e,t)=>{const o=l;return n(),c(o,{columns:d(a).getColumns,data:d(a).getData||[],count:d(a).getCounts,titulo:d(a).keyModel,subtitulo:`Listado de ${d(a).keyModel}s`,"page-index":d(a).getPageIndex,"show-modal":r.value,"modal-width":"40rem","modal-height":"35rem",onAddEvent:U,onUpdateEvent:W,onFilterEvent:L,onPageIndex:K,onNext:t[5]||(t[5]=e=>d(a).setNext()),onPrevius:t[6]||(t[6]=e=>d(a).setPrevius()),onModalIsOpen:N},{imagen:i((()=>[D])),cabecera:i((()=>[u("h1",E,[p(f(d(a).storeModel.id?"Editar":"Nuevo")+" "+f(d(a).keyModel)+" ",1),u("b",C,f(d(a).storeModel.id),1)])])),cuerpo:i((()=>[u("form",{class:"form-container",onSubmit:v(q,["prevent"])},[u("div",z,[b,g(u("input",{id:"txtRuc","onUpdate:modelValue":t[0]||(t[0]=e=>d(a).storeModel.Ruc=e),autofocus:"",type:"text",class:"form-input w-full lg:w-[30%]",placeholder:"Igresar Ruc",required:""},null,512),[[m,d(a).storeModel.Ruc]])]),u("div",R,[S,g(u("input",{id:"txtRazon","onUpdate:modelValue":t[1]||(t[1]=e=>d(a).storeModel.RazonSocial=e),type:"text",class:"form-input sm:w-full lg:w-[100%]",placeholder:"Igresar Razon Social",required:""},null,512),[[m,d(a).storeModel.RazonSocial]])]),u("div",T,[I,g(u("input",{id:"txtDireccion","onUpdate:modelValue":t[2]||(t[2]=e=>d(a).storeModel.Direccion=e),type:"text",class:"form-input sm:w-full lg:w-[100%]",placeholder:"Igresar Direccion",required:""},null,512),[[m,d(a).storeModel.Direccion]])]),u("div",F,[B,g(u("input",{id:"txtTelefono","onUpdate:modelValue":t[3]||(t[3]=e=>d(a).storeModel.Telefono=e),type:"text",class:"form-input sm:w-full lg:w-[20%]",placeholder:"Igresar Telefono",required:""},null,512),[[m,d(a).storeModel.Telefono]])]),u("div",V,[P,g(u("input",{id:"txtCorreo","onUpdate:modelValue":t[4]||(t[4]=e=>d(a).storeModel.Correo=e),type:"text",class:"form-input sm:w-full lg:w-[100%]",placeholder:"Igresar Correo",required:""},null,512),[[m,d(a).storeModel.Correo]])]),k],40,w)])),acciones:i((()=>[u("button",{type:"submit",class:"btn-submit",onClick:q}," Guardar ")])),_:1},8,["columns","data","count","titulo","subtitulo","page-index","show-modal"])}}});export{L as default};
