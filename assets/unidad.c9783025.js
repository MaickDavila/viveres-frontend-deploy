import{e,r as a,f as t}from"./vendor.596c221c.js";import{i as r}from"./app.29cc8f05.js";import{u}from"./utils.062368f7.js";const l=e("unidad",(()=>{const e="unidad",l=a({}),o=a({}),s=a(1),n=t((()=>l.value.results)),c=t((()=>l.value.count)),i=t((()=>s.value)),d=t((()=>{const{Nombre:e}=o.value;return e})),v=async()=>{try{const a=1===s.value||0===s.value?{}:{page:s.value},{data:t}=await r.get(e,{params:a});return l.value=t,t}catch(a){return console.error(a),null}},m=e=>{s.value=e,v()};return{keyModel:e,storeModel:o,getData:n,getCounts:c,getColumns:[{Key:"id",Text:"Id",Width:10},{Key:"Nombre",Text:"Nombre",Width:80},{Key:"Factor",Text:"Factor",Width:10}],getPageIndex:i,isValidFormModel:d,setData:v,saveData:async()=>{try{if(!d.value)return null;let e=null;return e=o.value.id?await r.put(`unidad/${o.value.id}/`,o.value):await r.post("unidad/",o.value),v(),e.data}catch(e){return console.error(e),null}},filterData:async a=>{if(a)try{const{data:t}=await r.get(e,{params:{search:a}});return l.value=t,t}catch(t){return console.error(t),null}else v()},setPageIndex:m,setPrevius:()=>{s.value>1&&m(s.value-1)},setNext:()=>{const e=Math.abs(Math.ceil(c.value/u().CountPagination));s.value<e&&m(s.value+1)},clearModel:()=>{o.value={}}}}));export{l as u};
