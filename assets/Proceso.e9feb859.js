import{_ as e}from"./DataTableComponent.a9d13bd4.js";import{g as o,r as t,l as s,o as l,w as a,x as r,i,h as d,y as n,t as u,z as c,A as m,L as p,B as f}from"./vendor.a51b8ffa.js";import{t as b}from"./style.7d124276.js";import{u as x}from"./proceso.a128cdb5.js";import{u as g}from"./utils.08d0e0c0.js";import"./app.1c80cf5c.js";const h={class:"row-span-2"},v={class:"text-2xl font-semibold text-black uppercase"},M={class:"text-gray-500"},w=["onSubmit"],N={class:"form-container mt-3 h-full"},y=d("label",{for:"txtNombre",class:"form-label"},"Nombre:",-1),D={class:"form-container mt-3 h-full"},E=d("label",{for:"txtDescripcion",class:"form-label"},"Descripcion:",-1),I={class:"form-container mt-3 h-full"},j=d("label",{for:"txtEstado",class:"form-label"},"Estado:",-1),k=d("input",{type:"submit",class:"hidden"},null,-1),P=o({setup(o){const P=x(),F=t(!1),O=t(!1),C=g();s((()=>{P.setData()}));const U=e=>{P.filterData(e)},V=e=>{P.setPageIndex(e)},q=()=>{P.clearModel(),C.setFocusInput("txtNombre")},A=({id:e,Nombre:o,Descripcion:t,IsOpen:s})=>{e?(F.value=!0,P.clearModel(),P.storeModel.id=e,P.storeModel.Nombre=o,P.storeModel.Descripcion=t,P.storeModel.IsOpen=s,C.setFocusInput("txtNombre")):F.value=!1},B=async()=>{let e="",o="",t=!0;if(P.isValidFormModel){O.value=!0;await P.saveData()?(e="Exitoso",o="El registro se ha guardado correctamente",F.value=!1):(e="Error",o="No se pudo guardar el registro")}else e="Error",o="Ingrese los valores del Formulario",t=!1;b({title:e,description:o},{type:t?"success":"danger",timeout:3e3,position:"bottom-right",hideProgressBar:!0}),O.value=!1},L=e=>{F.value=e};return(o,t)=>{const s=e;return l(),a(s,{columns:i(P).getColumns,data:i(P).getData||[],count:i(P).getCounts,titulo:i(P).keyModel,subtitulo:`Listado de ${i(P).keyModel}s`,"page-index":i(P).getPageIndex,"show-modal":F.value,"modal-width":"30rem","modal-height":"25rem","show-loading":O.value,onAddEvent:q,onUpdateEvent:A,onFilterEvent:U,onPageIndex:V,onNext:t[3]||(t[3]=e=>i(P).setNext()),onPrevius:t[4]||(t[4]=e=>i(P).setPrevius()),onModalIsOpen:L},{cabecera:r((()=>[d("div",h,[d("h1",v,[n(u(i(P).storeModel.id?"Editar":"Nuevo")+" "+u(i(P).keyModel)+" ",1),d("b",M,u(i(P).storeModel.id),1)])])])),cuerpo:r((()=>[d("form",{class:"form-container h-[100%] w-full flex flex-col",onSubmit:f(B,["prevent"])},[d("div",N,[y,c(d("input",{id:"txtNombre","onUpdate:modelValue":t[0]||(t[0]=e=>i(P).storeModel.Nombre=e),autofocus:"",type:"text",class:"form-input sm:w-full lg:w-[100%]",placeholder:"Nombre",required:""},null,512),[[m,i(P).storeModel.Nombre]])]),d("div",D,[E,c(d("input",{id:"txtDescripcion","onUpdate:modelValue":t[1]||(t[1]=e=>i(P).storeModel.Descripcion=e),type:"text",class:"form-input sm:w-full lg:w-[100%]",placeholder:"Descripcion",required:""},null,512),[[m,i(P).storeModel.Descripcion]])]),d("div",I,[j,c(d("input",{id:"txtEstado","onUpdate:modelValue":t[2]||(t[2]=e=>i(P).storeModel.IsOpen=e),type:"checkbox",class:"form-input sm:w-full lg:w-[100%]",placeholder:"Estado",required:""},null,512),[[p,i(P).storeModel.IsOpen]])]),k],40,w)])),acciones:r((()=>[d("button",{class:"btn-submit text-white font-bold py-2 px-4 rounded-lg",onClick:B}," Guardar ")])),_:1},8,["columns","data","count","titulo","subtitulo","page-index","show-modal","show-loading"])}}});export{P as default};
