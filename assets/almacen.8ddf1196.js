import{f as e,r as a,g as t}from"./vendor.f30c4ba5.js";import{i as r}from"./app.a9edc286.js";import{u as l}from"./DataTableComponent.64a02618.js";const n=e("almacen",(()=>{const e="almacen",n=a({}),u=a({}),o=a(1),s=t((()=>n.value.results)),c=t((()=>n.value.count)),i=t((()=>o.value)),v=t((()=>{const{Nombre:e,Direccion:a}=u.value;return e&&a})),d=async()=>{try{const a=1===o.value||0===o.value?{}:{page:o.value},{data:t}=await r.get(e,{params:a});return n.value=t,t}catch(a){return console.error(a),null}},m=e=>{o.value=e,d()};return{keyModel:e,storeModel:u,getData:s,getCounts:c,getColumns:[{Key:"id",Text:"Id",Width:10},{Key:"Nombre",Text:"Nombre",Width:60},{Key:"Direccion",Text:"DirecciÃ³n",Width:30}],getPageIndex:i,isValidFormModel:v,setData:d,saveData:async()=>{try{if(!v.value)return null;let e=null;return e=u.value.id?await r.put(`almacen/${u.value.id}/`,u.value):await r.post("almacen/",u.value),d(),e.data}catch(e){return console.error(e),null}},filterData:async a=>{if(a)try{const{data:t}=await r.get(e,{params:{search:a}});return n.value=t,t}catch(t){return console.error(t),null}else d()},setPageIndex:m,setPrevius:()=>{o.value>1&&m(o.value-1)},setNext:()=>{const e=Math.abs(Math.ceil(c.value/l().CountPagination));o.value<e&&m(o.value+1)},clearModel:()=>{u.value={}}}}));export{n as u};
