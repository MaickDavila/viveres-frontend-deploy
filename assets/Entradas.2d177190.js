import{a as l,_ as e,b as t}from"./DataTableComponent.44b62e10.js";import{e as a,r as o,f as s,g as r,k as c,o as i,d,p as n,x as u,h as p,y as h,t as f,i as y,F as v,l as g,n as m,B as M,z as C,I as b,A as x,s as w}from"./vendor.596c221c.js";/* empty css              */import{i as F}from"./app.29cc8f05.js";import{u as P}from"./utils.062368f7.js";import{u as z}from"./proceso.46d23f9c.js";import{u as B}from"./almacen.2e1e595a.js";import{u as D,a as A}from"./pedidosDetalles.14e85c1b.js";const E=a("entradas",(()=>{const l="entradas",e=o({}),t=o({}),a=o(1),r=o([]),c=s((()=>r.value)),i=s((()=>e.value.count)),d=s((()=>a.value)),n=s((()=>{const{Proceso:l,Pedido:e,Almacen:a}=t.value;return l>0&&e>0&&a>0})),u=async l=>{try{const{data:e}=await F.get("filter_entradas",{params:{text:l}});return r.value=e,e}catch(e){return console.error(e),null}};return{keyModel:l,storeModel:t,getData:c,getCounts:i,getColumns:[{Key:"Serie",Text:"Serie",Width:10},{Key:"Proceso_Nombre",Text:"Proceso",Width:60},{Key:"Pedido_Nombre",Text:"Pedido",Width:60},{Key:"Almacen_Nombre",Text:"Almacen de Entrada",Width:30}],getPageIndex:d,isValidFormModel:n,saveData:async()=>{try{if(!n.value)return null;let l=null;return l=t.value.id?await F.put(`entradas/${t.value.id}/`,t.value):await F.post("entradas/",t.value),u(""),l.data}catch(l){return console.error(l),null}},filterData:u,clearModel:()=>{t.value={}}}})),V=a("entradas_detalles",(()=>{const l="entradas_detalles",e=o([{}]),t=o({}),a=s((()=>e.value)),r=s((()=>e.value.length>0)),c=(l,t)=>e.value.findIndex((e=>e.Producto===l&&e.Unidad===t))>-1;return{keyModel:l,storeModel:t,storeData:e,getData:a,getColumns:[{Key:"Producto_Nombre",Text:"Producto",Width:10,Align:"left",FormatMoney:!1},{Key:"UnidadText",Text:"Unidad",Width:10,Align:"left",FormatMoney:!1},{Key:"Cantidad",Text:"Cantidad",Width:10,Align:"right",FormatMoney:!1}],isValidFormModel:r,saveData:async t=>{try{if(!r.value)return null;let a=(l=>e.value.filter((l=>l.Id>0)).map((e=>({id:e.Id,Entrada:l,Producto:e.Producto,Unidad:e.Unidad,UnidadText:e.UnidadText,Factor:e.Factor,Cantidad:e.Cantidad,Precio:e.Precio}))))(t),o=null;return a.length>0&&(o=await F.put(`${l}/`,a)),a=(l=>e.value.filter((l=>0===l.Id)).map((e=>({id:0,Entrada:l,Producto:e.Producto,Unidad:e.Unidad,UnidadText:e.UnidadText,Factor:e.Factor,Cantidad:e.Cantidad,Precio:e.Precio}))))(t),a.length>0&&(o=await F.post(`${l}/`,a)),null==o?void 0:o.data}catch(a){return console.error(a),null}},ExistUnidad:c,addList:l=>{try{if(c(l.Producto,l.Unidad))return!1;const t=e.value.findIndex((e=>e===l));return-1===t?e.value.push(l):e.value[t]=l,!0}catch(t){return!1}},deleteData:async t=>{try{let a=e.value.findIndex((l=>l===t));return a>-1&&t.Id>0&&await F.delete(`${l}/${t.Id}/`),a=e.value.findIndex((l=>l.Unidad===t.Unidad&&l.Producto===t.Producto)),a>-1&&e.value.splice(a,1),!0}catch(a){return console.error(a),!1}},GetEntradasDetallesByEntradaId:async l=>{try{const{data:t}=await F.get("get_entradas_detalles_by_entrada_id",{params:{entradaId:l}});return e.value=t,t}catch(t){return console.error(t),null}},clearModel:()=>{t.value={},e.value=[]},importPedidosToEntradasDetalles:l=>{const t=l.map((l=>({Id:0,Entrada:0,Producto:l.Producto,Producto_Nombre:l.Producto_Nombre,Unidad:l.Unidad,UnidadText:l.UnidadText,Factor:l.Factor,Cantidad:l.Cantidad,Precio:l.Precio})));e.value=t}}})),L=p("svg",{id:"Layer_1",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"170",viewBox:"0 0 496 496",style:{"enable-background":"new 0 0 496 496"},"xml:space":"preserve"},[p("g",null,[p("path",{style:{fill:"#03263A"},d:"M39.2,318.2c0,0.8-0.8,2.4-2.4,2.4h-8c-0.8,0-2.4-0.8-2.4-2.4V315c0-0.8,0.8-2.4,2.4-2.4h8\r\nc0.8,0,2.4,0.8,2.4,2.4V318.2z"}),p("path",{style:{fill:"#03263A"},d:"M115.2,318.2c0,0.8-0.8,2.4-2.4,2.4h-8c-0.8,0-2.4-0.8-2.4-2.4V315c0-0.8,0.8-2.4,2.4-2.4h8\r\nc0.8,0,2.4,0.8,2.4,2.4V318.2z"})]),p("path",{style:{fill:"#FF5B00"},d:"M127.2,301.4c0,14.4-12,12.8-26.4,12.8h-60c-14.4,0-26.4,1.6-26.4-12.8v-168\r\nc0-14.4,12-26.4,26.4-26.4h60.8c14.4,0,26.4,12,26.4,26.4v168H127.2z"}),p("g",null,[p("path",{style:{fill:"#FF3C00"},d:"M101.6,107.8h-36V315h36c14.4,0,26.4,1.6,26.4-12.8v-168C127.2,119,116,107.8,101.6,107.8z"}),p("polygon",{style:{fill:"#FF3C00"},points:"74.4,184.6 26.4,136.6 26.4,167.8 43.2,184.6 "}),p("path",{style:{fill:"#FF3C00"},d:"M127.2,301.4v-3.2L26.4,197.4v31.2L112,315C121.6,314.2,127.2,312.6,127.2,301.4z"})]),p("path",{style:{fill:"#FF781D"},d:"M24,301.4v-168C24,119,36,107,50.4,107h-9.6c-14.4,0-26.4,12-26.4,26.4v168c0,14.4,12,12.8,26.4,12.8\r\nl0,0C31.2,315,24,312.6,24,301.4z"}),p("path",{style:{fill:"#FF8B00"},d:"M101.6,315c3.2,0,6.4,0,8.8,0H101.6z"}),p("rect",{x:"15.2",y:"179.8",style:{fill:"#03263A"},width:"112.8",height:"8"}),p("g",null,[p("rect",{x:"15.2",y:"184.6",style:{fill:"#053C54"},width:"112.8",height:"4"}),p("path",{style:{fill:"#053C54"},d:"M32,164.6c0,2.4-1.6,4-4,4l0,0c-2.4,0-4-1.6-4-4v-23.2c0-2.4,1.6-4,4-4l0,0c2.4,0,4,1.6,4,4V164.6z"})]),p("path",{style:{fill:"#055875"},d:"M25.6,137.4c-1.6,0.8-2.4,2.4-2.4,4v23.2c0,1.6,0.8,3.2,2.4,4c1.6-0.8,2.4-2.4,2.4-4v-23.2\r\nC28.8,139.8,27.2,138.2,25.6,137.4z"}),p("path",{style:{fill:"#053C54"},d:"M32,224.6c0,2.4-1.6,4-4,4l0,0c-2.4,0-4-1.6-4-4v-23.2c0-2.4,1.6-4,4-4l0,0c2.4,0,4,1.6,4,4V224.6z"}),p("path",{style:{fill:"#055875"},d:"M25.6,197.4c-1.6,0.8-2.4,2.4-2.4,4v23.2c0,1.6,0.8,3.2,2.4,4c1.6-0.8,2.4-2.4,2.4-4v-23.2\r\nC28.8,199.8,27.2,198.2,25.6,197.4z"}),p("g",null,[p("path",{style:{fill:"#FF781D"},d:"M113.6,166.2C112.8,166.2,112.8,165.4,113.6,166.2L113.6,166.2c-0.8-0.8,0-0.8,0-0.8h5.6\r\nc0,0,0.8,0,0.8,0.8l0,0c0,0,0,0.8-0.8,0.8h-5.6V166.2z"}),p("path",{style:{fill:"#FF781D"},d:"M113.6,170.2C112.8,170.2,112.8,170.2,113.6,170.2L113.6,170.2c-0.8-0.8,0-0.8,0-0.8h5.6\r\nc0,0,0.8,0,0.8,0.8l0,0c0,0,0,0.8-0.8,0.8h-5.6V170.2z"}),p("path",{style:{fill:"#FF781D"},d:"M113.6,175C112.8,175,112.8,174.2,113.6,175L113.6,175c-0.8-0.8,0-0.8,0-0.8h5.6c0,0,0.8,0,0.8,0.8\r\nl0,0c0,0,0,0.8-0.8,0.8h-5.6V175z"}),p("path",{style:{fill:"#FF781D"},d:"M113.6,298.2C112.8,298.2,112.8,298.2,113.6,298.2L113.6,298.2c-0.8-0.8,0-0.8,0-0.8h5.6\r\nc0,0,0.8,0,0.8,0.8l0,0c0,0,0,0.8-0.8,0.8h-5.6V298.2z"}),p("path",{style:{fill:"#FF781D"},d:"M113.6,303C112.8,303,112.8,303,113.6,303L113.6,303c-0.8-0.8,0-0.8,0-0.8h5.6c0,0,0.8,0,0.8,0.8\r\nl0,0c0,0,0,0.8-0.8,0.8h-5.6V303z"}),p("path",{style:{fill:"#FF781D"},d:"M113.6,307C112.8,307,112.8,307,113.6,307L113.6,307c-0.8-0.8,0-0.8,0-0.8h5.6c0,0,0.8,0,0.8,0.8\r\nl0,0c0,0,0,0.8-0.8,0.8h-5.6V307z"})]),p("path",{style:{fill:"#996430"},d:"M287.2,293.4c0,4-3.2,7.2-7.2,7.2H134.4c-4,0-7.2-3.2-7.2-7.2V82.2c0-4,3.2-7.2,7.2-7.2H280\r\nc4,0,7.2,3.2,7.2,7.2V293.4z"}),p("path",{style:{fill:"#A86F3B"},d:"M127.2,293.4V82.2c0-4,3.2-7.2,7.2-7.2H280"}),p("g",null,[p("path",{style:{opacity:"0.3",fill:"#C6A883","enable-background":"new"},d:"M204.8,287c0,4-3.2,7.2-7.2,7.2h-54.4c-4,0-7.2-3.2-7.2-7.2\r\nV96.6c0-4,3.2-7.2,7.2-7.2h54.4c4,0,7.2,3.2,7.2,7.2V287z"}),p("path",{style:{fill:"#C6A883"},d:"M204.8,283c0,4-3.2,7.2-7.2,7.2h-54.4c-4,0-7.2-3.2-7.2-7.2V92.6c0-4,3.2-7.2,7.2-7.2h54.4\r\nc4,0,7.2,3.2,7.2,7.2V283z"})]),p("path",{style:{fill:"#D1B99F"},d:"M136.8,283V92.6c0-4,3.2-7.2,7.2-7.2h54.4"}),p("polygon",{style:{fill:"#B29370"},points:"193.6,195.8 204.8,207 204.8,191 201.6,188.6 "}),p("circle",{style:{fill:"#3F2715"},cx:"196.8",cy:"191",r:"6.4"}),p("path",{style:{fill:"#1E1209"},d:"M200.8,186.2c2.4,2.4,2.4,6.4,0,8.8c-2.4,2.4-6.4,2.4-8.8,0"}),p("g",null,[p("path",{style:{opacity:"0.3",fill:"#C6A883","enable-background":"new"},d:"M209.6,287c0,4,3.2,7.2,7.2,7.2h54.4c4,0,7.2-3.2,7.2-7.2\r\nV96.6c0-4-3.2-7.2-7.2-7.2h-54.4c-4,0-7.2,3.2-7.2,7.2L209.6,287L209.6,287z"}),p("path",{style:{fill:"#C6A883"},d:"M209.6,283c0,4,3.2,7.2,7.2,7.2h54.4c4,0,7.2-3.2,7.2-7.2V92.6c0-4-3.2-7.2-7.2-7.2h-54.4\r\nc-4,0-7.2,3.2-7.2,7.2L209.6,283L209.6,283z"})]),p("path",{style:{fill:"#D1B99F"},d:"M277.6,283V92.6c0-4-3.2-7.2-7.2-7.2H216"}),p("polygon",{style:{fill:"#B29370"},points:"220,195.8 209.6,207 209.6,191 212.8,188.6 "}),p("circle",{style:{fill:"#3F2715"},cx:"217.6",cy:"191",r:"6.4"}),p("path",{style:{fill:"#1E1209"},d:"M213.6,186.2c-2.4,2.4-2.4,6.4,0,8.8c2.4,2.4,6.4,2.4,8.8,0"}),p("g",null,[p("path",{style:{fill:"#A86F3B"},d:"M188,273.4L188,273.4l-34.4,0.8c0,0-0.8,0-0.8-0.8l0,0c0,0,0-0.8,0.8-0.8L188,273.4\r\nC188,272.6,188,272.6,188,273.4L188,273.4z"}),p("path",{style:{fill:"#A86F3B"},d:"M188,276.6C188,276.6,188,277.4,188,276.6l-34.4,0.8c0,0-0.8,0-0.8-0.8l0,0c0,0,0-0.8,0.8-0.8\r\nL188,276.6C188,275.8,188,276.6,188,276.6L188,276.6z"}),p("path",{style:{fill:"#A86F3B"},d:"M188,279.8C188,280.6,188,280.6,188,279.8l-34.4,0.8c0,0-0.8,0-0.8-0.8l0,0c0,0,0-0.8,0.8-0.8\r\nL188,279.8L188,279.8L188,279.8z"}),p("path",{style:{fill:"#A86F3B"},d:"M261.6,273.4C261.6,273.4,260.8,273.4,261.6,273.4l-34.4,0.8c0,0-0.8,0-0.8-0.8l0,0\r\nc0,0,0-0.8,0.8-0.8L261.6,273.4C260.8,272.6,261.6,272.6,261.6,273.4L261.6,273.4z"}),p("path",{style:{fill:"#A86F3B"},d:"M261.6,276.6C261.6,276.6,260.8,277.4,261.6,276.6l-34.4,0.8c0,0-0.8,0-0.8-0.8l0,0\r\nc0,0,0-0.8,0.8-0.8L261.6,276.6C260.8,275.8,261.6,276.6,261.6,276.6L261.6,276.6z"}),p("path",{style:{fill:"#A86F3B"},d:"M261.6,279.8C261.6,280.6,260.8,280.6,261.6,279.8l-34.4,0.8c0,0-0.8,0-0.8-0.8l0,0\r\nc0,0,0-0.8,0.8-0.8L261.6,279.8C260.8,279.8,261.6,279.8,261.6,279.8L261.6,279.8z"})]),p("path",{style:{fill:"#ADC4C3"},d:"M295.2,272.6c0,3.2-3.2,6.4-6.4,6.4H12c-3.2,0-6.4-3.2-6.4-6.4l0,0c0-3.2,3.2-6.4,6.4-6.4h276.8\r\nC292,265.4,295.2,268.6,295.2,272.6L295.2,272.6z"}),p("path",{style:{fill:"#BC043D"},d:"M484,286.2c0-6.4-5.6-12-12-12h-35.2l-42.4-96c0-8.8-7.2-16-16-16h-1.6c0-8.8-7.2-16.8-16.8-16.8\r\nh-72.8v131.2h-276c-3.2,2.4-4.8,5.6-4.8,9.6v78.4c0,6.4,5.6,12,12,12H480c6.4,0,12-5.6,12-12L484,286.2z"}),p("path",{style:{fill:"#A5053F"},d:"M6.4,364.6c0,6.4,5.6,12,12,12H480c6.4,0,12-5.6,12-12l-4-40.8H6.4V364.6z"}),p("path",{style:{fill:"#DB0940"},d:"M19.2,347.8c0,4.8-4,4-8,4l0,0c-4.8,0-8-3.2-8-8v-36c0-4.8,3.2-8,8-8l0,0c4.8,0,8,4,8,8V347.8z"}),p("path",{style:{fill:"#BC043D"},d:"M11.2,299.8L11.2,299.8c4.8,0,8,4,8,8v40c0,4.8-4,4-8,4l0,0"}),p("path",{style:{fill:"#ADC4C3"},d:"M496,380.6c0,4.8-4,8-8,8H8c-4.8,0-8-3.2-8-8v-4.8c0-4.8,4-8,8-8h480c4.8,0,8,4,8,8V380.6z"}),p("path",{d:"M49.6,374.2c0-27.2,22.4-49.6,49.6-49.6s49.6,22.4,49.6,49.6"}),p("path",{style:{fill:"#ADC4C3"},d:"M151.2,374.2h-4c0-26.4-21.6-48-48-48s-48,21.6-48,48h-4c0-28.8,23.2-52,52-52\r\nS151.2,345.4,151.2,374.2z"}),p("circle",{style:{fill:"#203547"},cx:"99.2",cy:"375.8",r:"44.8"}),p("path",{style:{fill:"#122130"},d:"M131.2,344.6c17.6,17.6,17.6,45.6,0,63.2s-45.6,17.6-63.2,0"}),p("circle",{style:{fill:"#6E7577"},cx:"99.2",cy:"375.8",r:"28"}),p("path",{style:{fill:"#4C5456"},d:"M119.2,355.8c11.2,11.2,11.2,28.8,0,40s-28.8,11.2-40,0"}),p("circle",{style:{fill:"#CED8DD"},cx:"99.2",cy:"375.8",r:"24.8"}),p("path",{style:{fill:"#B2BBC1"},d:"M116.8,358.2c9.6,9.6,9.6,25.6,0,35.2s-25.6,9.6-35.2,0"}),p("path",{style:{opacity:"0.2",fill:"#888F91","enable-background":"new"},d:"M110.4,375.8c0,6.4-4.8,13.6-11.2,13.6\r\nc-6.4,0-11.2-7.2-11.2-13.6s4.8-11.2,11.2-11.2S110.4,369.4,110.4,375.8z"}),p("path",{style:{fill:"#E7EFF2"},d:"M110.4,375.8c0,6.4-4.8,11.2-11.2,11.2c-6.4,0-11.2-4.8-11.2-11.2c0-6.4,4.8-11.2,11.2-11.2\r\nS110.4,369.4,110.4,375.8z"}),p("path",{style:{fill:"#DAE6EA"},d:"M99.2,364.6c6.4,0,11.2,4.8,11.2,11.2c0,6.4-4.8,11.2-11.2,11.2"}),p("path",{style:{fill:"#666E70"},d:"M99.2,351c-0.8,0-2.4,0-3.2,0c0.8,3.2,1.6,6.4,3.2,6.4s3.2-2.4,3.2-6.4C101.6,351,100,351,99.2,351z"}),p("path",{style:{fill:"#535A5B"},d:"M99.2,357.4c1.6,0,3.2-2.4,3.2-6.4c-0.8,0-2.4,0-3.2,0"}),p("path",{style:{fill:"#666E70"},d:"M96,400.6c2.4,0,4.8,0,6.4,0c-0.8-3.2-1.6-6.4-3.2-6.4C97.6,394.2,96.8,396.6,96,400.6z"}),p("path",{style:{fill:"#535A5B"},d:"M102.4,400.6c-0.8-3.2-1.6-6.4-3.2-6.4"}),p("path",{style:{fill:"#666E70"},d:"M80,361.4c3.2,2.4,5.6,3.2,6.4,1.6c0.8-0.8,0-4-1.6-6.4C82.4,357.4,80.8,359,80,361.4z"}),p("path",{style:{fill:"#535A5B"},d:"M86.4,363c0.8-0.8,0-4-1.6-6.4"}),p("path",{style:{fill:"#666E70"},d:"M119.2,391c-3.2-2.4-5.6-3.2-6.4-1.6c-0.8,0.8,0,4,1.6,6.4c0.8-0.8,1.6-1.6,2.4-2.4\r\nC117.6,392.6,118.4,391.8,119.2,391z"}),p("path",{style:{fill:"#535A5B"},d:"M116.8,393.4c0.8-0.8,1.6-1.6,2.4-2.4c-3.2-2.4-5.6-3.2-6.4-1.6"}),p("path",{style:{fill:"#666E70"},d:"M75.2,379c3.2-0.8,6.4-1.6,6.4-3.2s-2.4-3.2-6.4-3.2c0,0.8,0,2.4,0,3.2\r\nC74.4,377.4,74.4,378.2,75.2,379z"}),p("path",{style:{fill:"#535A5B"},d:"M80.8,375.8c0-1.6-2.4-3.2-6.4-3.2c0,0.8,0,2.4,0,3.2"}),p("path",{style:{fill:"#666E70"},d:"M117.6,375.8c0,1.6,2.4,3.2,6.4,3.2c0-2.4,0-4.8,0-6.4C120,373.4,117.6,374.2,117.6,375.8z"}),p("path",{style:{fill:"#535A5B"},d:"M124,372.6c-3.2,0.8-6.4,1.6-6.4,3.2"}),p("path",{style:{fill:"#666E70"},d:"M80,391c1.6,1.6,3.2,3.2,4.8,4.8c2.4-3.2,3.2-5.6,1.6-6.4C85.6,387.8,82.4,388.6,80,391z"}),p("path",{style:{fill:"#535A5B"},d:"M84,395.8c2.4-3.2,3.2-5.6,1.6-6.4"}),p("path",{style:{fill:"#666E70"},d:"M114.4,356.6c-2.4,3.2-3.2,5.6-1.6,6.4c0.8,0.8,4,0,6.4-1.6C117.6,359,116,357.4,114.4,356.6z"}),p("path",{style:{fill:"#535A5B"},d:"M114.4,356.6c-2.4,3.2-3.2,5.6-1.6,6.4"}),p("path",{d:"M344,374.2c0-27.2,22.4-49.6,49.6-49.6s49.6,22.4,49.6,49.6"}),p("path",{style:{fill:"#ADC4C3"},d:"M445.6,374.2h-4c0-26.4-21.6-48-48-48s-48,21.6-48,48h-4c0-28.8,23.2-52,52-52\r\nS445.6,345.4,445.6,374.2z"}),p("circle",{style:{fill:"#203547"},cx:"394.4",cy:"375.8",r:"44.8"}),p("path",{style:{fill:"#122130"},d:"M425.6,344.6c17.6,17.6,17.6,45.6,0,63.2s-45.6,17.6-63.2,0"}),p("circle",{style:{fill:"#6E7577"},cx:"394.4",cy:"375.8",r:"28"}),p("path",{style:{fill:"#4C5456"},d:"M413.6,355.8c11.2,11.2,11.2,28.8,0,40s-28.8,11.2-40,0"}),p("circle",{style:{fill:"#CED8DD"},cx:"394.4",cy:"375.8",r:"24.8"}),p("path",{style:{fill:"#B2BBC1"},d:"M411.2,358.2c9.6,9.6,9.6,25.6,0,35.2s-25.6,9.6-35.2,0"}),p("path",{style:{opacity:"0.2",fill:"#888F91","enable-background":"new"},d:"M405.6,375.8c0,6.4-4.8,13.6-11.2,13.6\r\nc-6.4,0-11.2-7.2-11.2-13.6s4.8-11.2,11.2-11.2C400,364.6,405.6,369.4,405.6,375.8z"}),p("path",{style:{fill:"#E7EFF2"},d:"M405.6,375.8c0,6.4-4.8,11.2-11.2,11.2c-6.4,0-11.2-4.8-11.2-11.2c0-6.4,4.8-11.2,11.2-11.2\r\nC400,364.6,405.6,369.4,405.6,375.8z"}),p("path",{style:{fill:"#DAE6EA"},d:"M394.4,364.6c6.4,0,11.2,4.8,11.2,11.2c0,6.4-4.8,11.2-11.2,11.2"}),p("path",{style:{fill:"#666E70"},d:"M394.4,351c-0.8,0-2.4,0-3.2,0c0.8,3.2,1.6,6.4,3.2,6.4s3.2-2.4,3.2-6.4C396,351,395.2,351,394.4,351\r\nz"}),p("path",{style:{fill:"#535A5B"},d:"M394.4,357.4c1.6,0,3.2-2.4,3.2-6.4c-0.8,0-2.4,0-3.2,0"}),p("path",{style:{fill:"#666E70"},d:"M390.4,400.6c2.4,0,4.8,0,6.4,0c-0.8-3.2-1.6-6.4-3.2-6.4C392.8,394.2,391.2,396.6,390.4,400.6z"}),p("path",{style:{fill:"#535A5B"},d:"M397.6,400.6c-0.8-3.2-1.6-6.4-3.2-6.4"}),p("path",{style:{fill:"#666E70"},d:"M374.4,361.4c3.2,2.4,5.6,3.2,6.4,1.6c0.8-0.8,0-4-1.6-6.4C377.6,357.4,376,359,374.4,361.4z"}),p("path",{style:{fill:"#535A5B"},d:"M380.8,363c0.8-0.8,0-4-1.6-6.4"}),p("path",{style:{fill:"#666E70"},d:"M413.6,391c-3.2-2.4-5.6-3.2-6.4-1.6c-0.8,0.8,0,4,1.6,6.4c0.8-0.8,1.6-1.6,2.4-2.4\r\nC412,392.6,412.8,391.8,413.6,391z"}),p("path",{style:{fill:"#535A5B"},d:"M411.2,393.4c0.8-0.8,1.6-1.6,2.4-2.4c-3.2-2.4-5.6-3.2-6.4-1.6"}),p("path",{style:{fill:"#666E70"},d:"M369.6,379c3.2-0.8,6.4-1.6,6.4-3.2s-2.4-3.2-6.4-3.2c0,0.8,0,2.4,0,3.2\r\nC369.6,377.4,369.6,378.2,369.6,379z"}),p("path",{style:{fill:"#535A5B"},d:"M376,375.8c0-1.6-2.4-3.2-6.4-3.2c0,0.8,0,2.4,0,3.2"}),p("path",{style:{fill:"#666E70"},d:"M412,375.8c0,1.6,2.4,3.2,6.4,3.2c0-2.4,0-4.8,0-6.4C415.2,373.4,412,374.2,412,375.8z"}),p("path",{style:{fill:"#535A5B"},d:"M418.4,372.6c-3.2,0.8-6.4,1.6-6.4,3.2"}),p("path",{style:{fill:"#666E70"},d:"M374.4,391c1.6,1.6,3.2,3.2,4.8,4.8c2.4-3.2,3.2-5.6,1.6-6.4C380,387.8,377.6,388.6,374.4,391z"}),p("path",{style:{fill:"#535A5B"},d:"M379.2,395.8c2.4-3.2,3.2-5.6,1.6-6.4"}),p("path",{style:{fill:"#666E70"},d:"M408.8,356.6c-2.4,3.2-3.2,5.6-1.6,6.4c0.8,0.8,4,0,6.4-1.6C412,359,410.4,357.4,408.8,356.6z"}),p("path",{style:{fill:"#535A5B"},d:"M408.8,356.6c-2.4,3.2-3.2,5.6-1.6,6.4"}),p("path",{style:{fill:"#51859B"},d:"M433.6,266.2l-36.8-84H312c-4.8,0-8.8,4-8.8,8.8v67.2c0,4.8,4,8.8,8.8,8.8h119.2\r\nC432,266.2,432.8,266.2,433.6,266.2z"}),p("g",null,[p("polygon",{style:{fill:"#81B6C9"},points:"341.6,182.2 318.4,182.2 302.4,197.4 302.4,220.6 "}),p("path",{style:{fill:"#81B6C9"},d:"M396,266.2h35.2c0.8,0,1.6,0,2.4-0.8l-11.2-25.6L396,266.2z"})]),p("path",{style:{fill:"#BC043D"},d:"M400,271.8c0.8,2.4-0.8,4.8-3.2,5.6l0,0c-2.4,0.8-4.8-0.8-5.6-3.2L364,168.6\r\nc-0.8-2.4,0.8-4.8,3.2-5.6l0,0c2.4-0.8,4.8,0.8,5.6,3.2L400,271.8z"}),p("path",{style:{fill:"#8E8E8E"},d:"M325.6,286.2c0,3.2-2.4,5.6-5.6,5.6h-12.8c-3.2,0-5.6-2.4-5.6-5.6l0,0c0-3.2,2.4-5.6,5.6-5.6H320\r\nC323.2,281.4,325.6,283.8,325.6,286.2L325.6,286.2z"}),p("g",null,[p("path",{style:{fill:"#BC043D"},d:"M176.8,335.8c0,0.8-0.8,1.6-1.6,1.6h-10.4c-0.8,0-1.6-0.8-1.6-1.6l0,0c0-0.8,0.8-1.6,1.6-1.6h10.4\r\nC176,334.2,176.8,335,176.8,335.8L176.8,335.8z"}),p("path",{style:{fill:"#BC043D"},d:"M176.8,344.6c0,0.8-0.8,1.6-1.6,1.6h-10.4c-0.8,0-1.6-0.8-1.6-1.6l0,0c0-0.8,0.8-1.6,1.6-1.6h10.4\r\nC176,343,176.8,343.8,176.8,344.6L176.8,344.6z"}),p("path",{style:{fill:"#BC043D"},d:"M176.8,353.4c0,0.8-0.8,1.6-1.6,1.6h-10.4c-0.8,0-1.6-0.8-1.6-1.6l0,0c0-0.8,0.8-1.6,1.6-1.6h10.4\r\nC176,351.8,176.8,352.6,176.8,353.4L176.8,353.4z"})]),p("path",{style:{fill:"#FFA300"},d:"M488.8,339.8c0,4-3.2,6.4-6.4,6.4l0,0c-4,0-6.4-3.2-6.4-6.4V307c0-4,3.2-6.4,6.4-6.4l0,0\r\nc4,0,6.4,3.2,6.4,6.4V339.8z"}),p("path",{style:{fill:"#FF7300"},d:"M481.6,346.2L481.6,346.2c-4,0-6.4-3.2-6.4-6.4V307c0-4,3.2-6.4,6.4-6.4l0,0"}),p("g"),p("g"),p("g"),p("g"),p("g"),p("g"),p("g"),p("g"),p("g"),p("g"),p("g"),p("g"),p("g"),p("g"),p("g")],-1),k={class:"text-2xl font-semibold text-green-400"},U={class:"text-gray-500"},I={class:"h-[100%] w-full flex flex-col"},_={class:"row-span-1"},N=["onClick"],T={class:"bg-white h-full row-span-10 overflow-y-auto"},H={class:"form-container"},S=p("label",{for:"proceso",class:"form-label"},"Proceso",-1),j={key:0},K=["value"],O={key:1,class:"w-full flex flex-col"},W={class:"form-input w-full focus:text-black lg:w-[50%] bg-green-500 text-white"},$={class:"form-container"},q={key:0,class:"flex flex-col"},G=p("label",{for:"almacen",class:"form-label"},"Almacen",-1),R=["value"],J={key:1,class:"w-full flex flex-col"},Q={class:"form-input w-full focus:text-black lg:w-[50%] bg-green-500 text-white"},X={class:"form-container"},Y={key:0,class:"flex flex-col"},Z=p("label",{for:"almacen",class:"form-label"},"Pedidos",-1),ll=["value"],el={key:1,class:"w-full flex flex-col"},tl={class:"form-input w-full focus:text-black lg:w-[50%] bg-green-500 text-white"},al={class:"form-container"},ol=p("label",{for:"observaciones",class:"form-label"},"Observaciones",-1),sl=["disabled"],rl=p("input",{type:"submit",class:"hidden"},null,-1),cl={class:"rounded-xl overflow-auto bg-white row-span-4"},il=["onUpdate:modelValue"],dl=r({setup(a){const s=E(),r=V(),F=o(!1),dl=o(!1),nl=P(),ul=z(),pl=B(),hl=D(),fl=A(),yl=o(0),vl=["Productos de la Entrada","Entradas"],gl=o({}),ml=o(!1),Ml=o({}),Cl=o(!1);c((()=>{s.filterData("")}));const bl=l=>{s.filterData(l)},xl=async()=>{pl.setData(),await hl.filterData("")},wl=async()=>{Ml.value={},gl.value={},s.clearModel(),r.clearModel(),xl();const l=await ul.setProcesoActivo();if(!l)return w({title:"No tienes procesos disponibles",description:"Habra un proceso por favor! ðŸ‘ðŸ˜Š"},{type:"info",hideProgressBar:!0,position:"bottom-right"}),void(F.value=!1);gl.value=l,s.storeModel.Proceso=l.id,yl.value=0,nl.setFocusInput("txtNombre")},Fl=async({Id:l,Proceso_Id:e,Proceso_Nombre:t,Pedido:a,Almacen_Id:o,Almacen_Nombre:c,Observaciones:i})=>{if(!l)return void(F.value=!1);dl.value=!0,xl();const d=await ul.setProcesoActivo();(null==d?void 0:d.id)!==e&&(ml.value=!0),F.value=!0,Ml.value={},gl.value={},s.clearModel(),r.clearModel(),gl.value.id=e,gl.value.Nombre=t,s.storeModel.id=l,s.storeModel.Proceso=e,s.storeModel.Pedido=a,s.storeModel.Almacen=o,s.storeModel.Observaciones=i;r.GetEntradasDetallesByEntradaId(l)||w({title:"Ocurrio un problema",description:"El pedido no tiene ningun producto!"},{type:"danger",hideProgressBar:!0,position:"bottom-right"}),Ml.value.id=o,Ml.value.Nombre=c,yl.value=0,nl.setFocusInput("inputSearch"),dl.value=!1},Pl=()=>s.isValidFormModel?r.isValidFormModel?void(Cl.value=!0):(w({title:"Formulario incompleto",description:"Por favor ingrese los productos a la entrada"},{type:"info",hideProgressBar:!0,position:"bottom-right"}),void(Cl.value=!1)):(w({title:"Formulario incompleto",description:"Por favor completa todos los campos"},{type:"info",hideProgressBar:!0,position:"bottom-right"}),void(Cl.value=!1)),zl=async()=>{if(dl.value=!0,!s.isValidFormModel)return void w({title:"Formulario incompleto",description:"Por favor completa todos los campos"},{type:"info",hideProgressBar:!0,position:"bottom-right"});if(!r.isValidFormModel)return void w({title:"Formulario incompleto",description:"Por favor ingrese los productos al pedido"},{type:"info",hideProgressBar:!0,position:"bottom-right"});const l=await s.saveData();if(!l)return void w({title:"Error al guardar",description:"Por favor intenta nuevamente"},{type:"danger",hideProgressBar:!0,position:"bottom-right"});await r.saveData(l.id)?(w({title:"Guardado",description:"Entrada guardado correctamente"},{type:"success",hideProgressBar:!0,position:"bottom-right"}),dl.value=F.value=Cl.value=!1,s.filterData("")):w({title:"Error al guardar",description:"No se pudieron guardar los productos de la entrada"},{type:"danger",hideProgressBar:!0,position:"bottom-right"})},Bl=l=>{F.value=l},Dl=l=>{r.deleteData(l)},Al=async()=>{const l=await fl.setPedidosDetallesByPedidoId(s.storeModel.Pedido);l?(w({title:"Correcto",description:"Se cargaron con exito los productos del pedido"},{type:"success",hideProgressBar:!0,position:"bottom-right"}),l.length<=0&&w({title:"Sin productos",description:"El pedido no tiene ningun producto! ðŸ˜¢"},{type:"info",hideProgressBar:!0,position:"bottom-right"}),r.importPedidosToEntradasDetalles(l)):w({title:"Error",description:"No se pudieron obtener los productos del pedido"},{type:"danger",hideProgressBar:!0,position:"bottom-right"})};return(a,o)=>{const c=l,w=e,P=t;return i(),d(v,null,[n(w,{columns:y(s).getColumns,data:y(s).getData||[],count:y(s).getCounts,titulo:`${y(s).keyModel}`,subtitulo:`Listado de ${y(s).keyModel}`,"page-index":y(s).getPageIndex,"show-modal":F.value,"modal-width":"50rem","modal-height":"50rem","show-loading":dl.value,onAddEvent:wl,onUpdateEvent:Fl,onFilterEvent:bl,onModalIsOpen:Bl},{imagen:u((()=>[L])),cabecera:u((()=>[p("h1",k,[h(f(y(s).storeModel.id?"Editar":"Nuevo")+" "+f(y(s).keyModel)+" ",1),p("b",U,f(y(s).storeModel.id),1)])])),cuerpo:u((()=>[p("div",I,[p("section",_,[(i(),d(v,null,g(vl,((l,e)=>p("button",{key:e,class:m(["text-gray-600 focus:outline-none font-medium rounded-lg p-2 text-xs",{"border-green-500 border-b-2 shadow-lg transition  duration-300 ease-in-out transform hover:-translate-y-1 hover:scale-100":yl.value===e," rounded-none rounded-r-lg":0==e}]),onClick:l=>yl.value=e},f(l),11,N))),64))]),p("section",T,[p("form",{class:m(["form-container h-full p-3",1==yl.value?"grid":"hidden"]),onSubmit:o[4]||(o[4]=M((()=>{}),["prevent"]))},[p("div",H,[S,ml.value?(i(),d("div",O,[p("span",W,f(gl.value.Nombre),1)])):(i(),d("div",j,[C(p("select",{id:"proceso","onUpdate:modelValue":o[0]||(o[0]=l=>y(s).storeModel.Proceso=l),class:"form-input w-full focus:text-black lg:w-[50%] bg-green-500 text-white",required:""},[(i(!0),d(v,null,g([gl.value],((l,e)=>(i(),d("option",{key:e,value:l.id,class:"text-gray-700","aria-readonly":"true"},f(l.Nombre),9,K)))),128))],512),[[b,y(s).storeModel.Proceso]])]))]),p("div",$,[ml.value?(i(),d("div",J,[p("span",Q,f(Ml.value.Nombre),1)])):(i(),d("div",q,[G,C(p("select",{id:"almacen","onUpdate:modelValue":o[1]||(o[1]=l=>y(s).storeModel.Almacen=l),class:"form-input w-full focus:text-black lg:w-[50%] bg-green-500 text-white",required:""},[(i(!0),d(v,null,g(y(pl).getData,((l,e)=>(i(),d("option",{key:e,value:l.id,class:"text-gray-700"},f(l.Nombre),9,R)))),128))],512),[[b,y(s).storeModel.Almacen]])]))]),p("div",X,[ml.value?(i(),d("div",el,[p("span",tl,f(Ml.value.Nombre),1)])):(i(),d("div",Y,[Z,C(p("select",{id:"almacen","onUpdate:modelValue":o[2]||(o[2]=l=>y(s).storeModel.Pedido=l),class:"form-input w-full focus:text-black lg:w-[50%] bg-green-500 text-white",required:"",onChange:Al},[(i(!0),d(v,null,g(y(hl).getData,((l,e)=>(i(),d("option",{key:e,value:l.Id,class:"text-gray-700"},f(l.Serie),9,ll)))),128))],544),[[b,y(s).storeModel.Pedido]])]))]),p("div",al,[ol,C(p("textarea",{id:"observaciones","onUpdate:modelValue":o[3]||(o[3]=l=>y(s).storeModel.Observaciones=l),class:"form-input w-full focus:text-black bg-white text-gray-500",disabled:ml.value},null,8,sl),[[x,y(s).storeModel.Observaciones]])]),rl],34),p("section",{class:m(["form-container h-full p-3 grid grid-rows-5",0==yl.value?"flex":"hidden"])},[p("section",cl,[n(c,{columns:y(r).getColumns,data:y(r).storeData,actions:!0,class:"row-span-4","link-id":!1,onDeleteRow:Dl},{Cantidad:u((({index:l})=>[C(p("input",{"onUpdate:modelValue":e=>y(r).storeData[l].Cantidad=e,type:"number",class:"form-input text-center w-24"},null,8,il),[[x,y(r).storeData[l].Cantidad]])])),_:1},8,["columns","data"])])],2)])])])),acciones:u((()=>[p("button",{type:"submit",class:"btn btn-submit",onClick:Pl}," Guardar ")])),_:1},8,["columns","data","count","titulo","subtitulo","page-index","show-modal","show-loading"]),n(P,{"show-modal":Cl.value,"modal-width":"20rem","modal-height":"10rem",description:"Seguro que desea guardar los datos?",onConfirm:zl,onCancel:o[5]||(o[5]=l=>Cl.value=!1)},null,8,["show-modal"])],64)}}});export{dl as default};
