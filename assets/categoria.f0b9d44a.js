import{f as a,r as e,g as t}from"./vendor.f30c4ba5.js";import{i as r}from"./app.d84cd159.js";import{u as l}from"./DataTableComponent.a2f395a1.js";const o=a("categoria",(()=>{const a="categoria",o=e({}),u=e({}),n=e(1),s=t((()=>o.value.results||[])),c=t((()=>o.value.count)),i=t((()=>n.value)),v=t((()=>{const{Nombre:a}=u.value;return a})),d=async()=>{try{const e=1===n.value||0===n.value?{}:{page:n.value},{data:t}=await r.get(a,{params:e});return o.value=t,t}catch(e){return console.error(e),null}},g=a=>{n.value=a,d()};return{keyModel:a,storeModel:u,getData:s,getCounts:c,getColumns:[{Key:"id",Text:"Id",Width:10},{Key:"Nombre",Text:"Nombre",Width:90}],getPageIndex:i,isValidFormModel:v,setData:d,saveData:async()=>{try{if(!v.value)return null;let a=null;return a=u.value.id?await r.put(`categoria/${u.value.id}/`,u.value):await r.post("categoria/",u.value),d(),a.data}catch(a){return console.error(a),null}},filterData:async e=>{if(e)try{const{data:t}=await r.get(a,{params:{search:e}});return o.value=t,t}catch(t){return console.error(t),null}else d()},setById:async a=>{try{const{data:e}=await r.get(`categoria/${a}/`);return e}catch(e){return console.error(e),null}},setPageIndex:g,setPrevius:()=>{n.value>1&&g(n.value-1)},setNext:()=>{const a=Math.abs(Math.ceil(c.value/l().CountPagination));n.value<a&&g(n.value+1)},clearModel:()=>{u.value={}}}}));export{o as u};
